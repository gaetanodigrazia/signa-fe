<!-- TOGGLE SOLO SU MOBILE -->
<div *ngIf="isMobile" class="mobile-toggle">
  <button mat-button (click)="toggleMenu()">☰ Menu</button>
</div>

<!-- SIDEBAR DESKTOP -->
<aside *ngIf="!isMobile" class="sidebar" [class.collapsed]="isCollapsed">
  <button class="collapse-toggle" (click)="toggleCollapse()" [attr.aria-expanded]="!isCollapsed"
    [attr.title]="isCollapsed ? 'Apri sidebar' : 'Comprimi sidebar'">
    <span class="hamburger-icon" aria-hidden="true">
      <span></span><span></span><span></span>
    </span>
  </button>

  <nav>
    <a routerLink="/home">
      <span class="icon">🏠</span>
      <span class="text" *ngIf="!isCollapsed">Home</span>
    </a>
    <a routerLink="/calendar">
      <span class="icon">📆</span>
      <span class="text" *ngIf="!isCollapsed">Calendar</span>
    </a>
    <a routerLink="/settings">
      <span class="icon">⚙️</span>
      <span class="text" *ngIf="!isCollapsed">Settings</span>
    </a>
  </nav>
  <!-- Bottoni in basso (DESKTOP) -->
  <div class="sidebar-bottom">
    <button class="block-btn tip" (click)="lockScreen()" title="Blocca schermo" aria-label="Blocca schermo">
      <span class="icon" aria-hidden="true">🔒</span>
    </button>
    <button class="logout-btn tip" (click)="logout()" title="Logout" aria-label="Logout">
      <span class="icon" aria-hidden="true">🚪</span>
    </button>
  </div>

</aside>


<!-- SIDEBAR MOBILE -->
<aside *ngIf="isMobile && menuOpen" class="sidebar mobile open">
  <nav>
    <a routerLink="/home" (click)="menuOpen = false">🏠 Home</a>
    <a routerLink="/calendar" (click)="menuOpen = false">📆 Calendar</a>
    <a routerLink="/settings" (click)="menuOpen = false">⚙️ Settings</a>
  </nav>
  <!-- Bottoni in basso (MOBILE) -->
  <div class="sidebar-bottom">
    <button class="block-btn tip" (click)="lockScreen()" title="Blocca schermo" aria-label="Blocca schermo">
      <span class="icon" aria-hidden="true">🔒</span>
    </button>
    <button class="logout-btn tip" (click)="logout()" title="Logout" aria-label="Logout">
      <span class="icon" aria-hidden="true">🚪</span>
    </button>
  </div>

</aside>