<div style="max-width: 1000px; margin: auto; padding: 16px;">
  <!-- Selettore vista -->
  <!-- Selettore vista moderno -->
  <div class="view-switch">
    <div class="segmented" role="radiogroup" aria-labelledby="view-label">
      <input type="radio" id="view-month" name="calendarView" [value]="CalendarView.Month" [(ngModel)]="view">
      <label for="view-month">🗓️ <span>Mese</span></label>

      <input type="radio" id="view-week" name="calendarView" [value]="CalendarView.Week" [(ngModel)]="view">
      <label for="view-week">📅 <span>Settimana</span></label>

      <input type="radio" id="view-day" name="calendarView" [value]="CalendarView.Day" [(ngModel)]="view">
      <label for="view-day">🕘 <span>Giorno</span></label>
    </div>
  </div>


  <!-- Calendario -->
  <div style="margin-top: 20px;">
    <!-- Vista Mese -->
    <mwl-calendar-month-view *ngIf="view === CalendarView.Month" [viewDate]="viewDate" [events]="events"
      [refresh]="refresh" (dayClicked)="handleDayClick($event.day.date)">
    </mwl-calendar-month-view>

    <!-- Vista Settimana -->
    <mwl-calendar-week-view *ngIf="view === CalendarView.Week" [viewDate]="viewDate" [events]="events"
      [refresh]="refresh" (hourSegmentClicked)="onTimeSlotClick($event.date)">
    </mwl-calendar-week-view>

    <!-- Vista Giorno -->
    <mwl-calendar-day-view *ngIf="view === CalendarView.Day" [viewDate]="viewDate" [events]="events" [refresh]="refresh"
      (hourSegmentClicked)="onTimeSlotClick($event.date)">
    </mwl-calendar-day-view>
  </div>
</div>

<!-- MODALE EVENTO -->
<div class="modal-overlay" *ngIf="modalVisible">
  <div class="modal">
    <h2>Nuovo appuntamento</h2>

    <label for="title">Titolo</label>
    <input id="title" [(ngModel)]="modalData.title" />

    <label for="description">Descrizione</label>
    <textarea id="description" [(ngModel)]="modalData.description"></textarea>

    <label for="startTime">Ora inizio</label>
    <input id="startTime" type="time" [(ngModel)]="modalData.startTime" />

    <label for="endTime">Ora fine</label>
    <input id="endTime" type="time" [(ngModel)]="modalData.endTime" />

    <div class="modal-actions">
      <button (click)="saveEvent()">Salva</button>
      <button (click)="closeModal()">Annulla</button>
    </div>
  </div>
</div>